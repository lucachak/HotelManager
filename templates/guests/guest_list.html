{% extends 'base.html' %}

{% block title %}Hóspedes | Hotel Lux{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto space-y-6">

    <div class="flex justify-between items-center">
        <h2 class="text-3xl font-bold text-gray-800">Hóspedes</h2>

        <button
            hx-get="{% url 'guest_create' %}"
            hx-target="#booking-modal-container"
            hx-swap="innerHTML"
            class="btn btn-primary btn-sm gap-2 text-white">
            <i data-lucide="user-plus" class="w-4 h-4"></i> Novo Hóspede
        </button>
    </div>

    <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-100">
        <div class="relative">
            <i data-lucide="search" class="absolute left-3 top-3 w-5 h-5 text-gray-400"></i>
            <input
                type="text"
                name="q"
                class="input input-bordered w-full pl-10"
                placeholder="Buscar por nome, email ou documento..."
                hx-get="{% url 'guest_list' %}"
                hx-trigger="keyup changed delay:500ms"
                hx-target="#guest-table-body">
        </div>
    </div>

    <div class="overflow-x-auto bg-white rounded-xl shadow-sm border border-gray-100">
        <table class="table w-full">
            <thead class="bg-gray-50 text-gray-500 uppercase text-xs font-bold">
                <tr>
                    <th>Nome</th>
                    <th>Contato</th>
                    <th>Documento</th>
                    <th>Estadias</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody id="guest-table-body">
                {% include 'guests/partials/guest_table_rows.html' %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
